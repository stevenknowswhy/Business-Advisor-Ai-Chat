# AI Advisor Chat

[![WCAG 2.1 AA Compliant](https://img.shields.io/badge/WCAG%202.1-AA%20Compliant-green.svg)](https://www.w3.org/WAI/WCAG21/quickref/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue.svg)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-15.2.3-black.svg)](https://nextjs.org/)
[![Open Router](https://img.shields.io/badge/Open%20Router-Model%20Agnostic-purple.svg)](https://openrouter.ai/)
[![Convex](https://img.shields.io/badge/Convex-Real--time%20Database-orange.svg)](https://convex.dev/)
[![Accessibility](https://img.shields.io/badge/Accessibility-Screen%20Reader%20Support-brightgreen.svg)](https://www.w3.org/WAI/)

A modern, accessible AI advisory board application built on Open Router, Next.js, TypeScript, and Convex real-time database. Features model-agnostic AI capabilities with access to multiple state-of-the-art language models, comprehensive marketplace for discovering AI advisors, project-based chat organization, and intelligent model selection. The application provides users with choice and control over their AI interactions through per-advisor model configuration and user-selectable model preferences.

## 🎯 Key Features

### 🛍️ **Marketplace & Discovery**
- **Advisor Marketplace**: Browse and discover AI advisors from a comprehensive marketplace
- **Advisor Profiles**: Detailed advisor information with expertise, ratings, and specializations
- **Smart Filtering**: Find advisors by expertise, industry, or specific needs
- **One-Click Selection**: Easily add advisors to your advisory board
- **Real-time Updates**: Live marketplace with the latest advisor additions

### 📁 **Project-Based Organization**
- **Project Management**: Organize conversations by project context instead of individual advisors
- **Smart Grouping**: Group related chats under user-created projects
- **Project Creation**: Create new projects with custom names and descriptions
- **Context Switching**: Seamlessly switch between different project contexts
- **Organized Workflow**: Maintain clear separation between different business initiatives

### 🤖 **Open Router AI Integration**
- **Model-Agnostic AI**: Built on Open Router with access to multiple state-of-the-art AI models
- **Per-Advisor Models**: Each advisor configured with optimal Open Router models for their specialty
- **User Model Selection**: Dropdown interface for users to choose their preferred AI models
- **Smart Model Routing**: Intelligent selection based on task complexity, cost, and performance
- **Real-time Performance**: Live model metrics including response time, cost, and reliability
- **Fallback Systems**: Reliable AI responses with automatic model switching if issues occur

### 💬 **Real-time Communication**
- **Live Chat**: Real-time messaging powered by Convex database
- **Instant Updates**: See messages and responses in real-time across all devices
- **Conversation Persistence**: All chats automatically saved with full history
- **Message Management**: Edit, delete, and manage individual messages
- **Cross-Device Sync**: Seamless synchronization across all your devices

### 🎨 **Modern User Interface**
- **Redesigned Sidebar**: New Projects and Chats tabs with intuitive navigation
- **Marketplace Access**: Quick access to marketplace via dedicated button/icon
- **Responsive Design**: Mobile-first approach with seamless cross-device experience
- **Professional UI**: Clean, modern interface optimized for productivity
- **Smart Tooltips**: Contextual help and guidance throughout the application

### 🔐 **Authentication & Security**
- **Clerk Integration**: Robust authentication with JWT token validation
- **Real User Display**: Shows actual user names from authentication provider
- **Secure Sessions**: Protected routes and secure session management
- **Convex Auth**: Seamless integration between Clerk and Convex database
- **Privacy First**: User data protection and privacy-focused design

### ♿ **Accessibility & Compliance**
- **WCAG 2.1 AA Compliant**: Full accessibility compliance for all users
- **Screen Reader Support**: Comprehensive ARIA attributes and semantic HTML
- **Keyboard Navigation**: Complete keyboard accessibility for all interactions
- **Focus Management**: Proper focus indicators and tab order
- **Form Accessibility**: Proper labeling and validation feedback

## 🆕 Recent Updates (Latest Release)

### 🚀 **Major Architecture Migration**
- ✅ **Convex Database Migration**: Migrated from Prisma/PostgreSQL to Convex real-time database
- ✅ **Real-time Features**: All data now syncs in real-time across devices and users
- ✅ **Clerk + Convex Integration**: Seamless authentication with JWT token validation
- ✅ **Performance Boost**: Significantly improved performance with real-time updates
- ✅ **Scalability**: Enhanced scalability with Convex's serverless architecture

### 🛍️ **Marketplace Feature**
- ✅ **Advisor Marketplace**: Complete marketplace for discovering and selecting AI advisors
- ✅ **Marketplace Navigation**: Dedicated marketplace access from sidebar
- ✅ **Advisor Discovery**: Browse advisors by expertise, ratings, and specializations
- ✅ **One-Click Selection**: Easy advisor selection and addition to advisory board
- ✅ **Real-time Updates**: Live marketplace with instant advisor additions

### 📁 **Project-Based Organization**
- ✅ **Sidebar Redesign**: Complete redesign with Projects and Chats tabs
- ✅ **Project Management**: Organize conversations by project context
- ✅ **Smart Navigation**: Intuitive navigation between projects and marketplace
- ✅ **Context Organization**: Group related chats under user-created projects
- ✅ **Workflow Optimization**: Streamlined workflow for better productivity

### 🎨 **UI/UX Improvements**
- ✅ **Modern Interface**: Completely redesigned sidebar with improved navigation
- ✅ **Responsive Design**: Enhanced mobile and tablet experience
- ✅ **Smart Tooltips**: Contextual help and guidance throughout the application
- ✅ **Professional Polish**: Clean, modern interface optimized for productivity
- ✅ **Accessibility Maintained**: All improvements maintain WCAG 2.1 AA compliance

### 🔧 **Technical Enhancements**
- ✅ **Next.js 15.2.3**: Updated to latest Next.js with improved performance
- ✅ **Real-time Database**: Convex integration for instant data synchronization
- ✅ **Authentication Flow**: Enhanced Clerk integration with JWT validation
- ✅ **Error Resolution**: Fixed all runtime errors and improved stability
- ✅ **Code Quality**: Improved TypeScript strict mode and error handling

## 🎯 User Workflow

### **Modern Project-Based Approach**

The AI Advisor Chat application follows an intuitive workflow designed for maximum productivity:

1. **🏗️ Create Projects**
   - Organize your work by creating projects for different business initiatives
   - Name projects based on your specific needs (e.g., "Product Launch", "Fundraising")
   - Group related conversations under each project for better organization

2. **🛍️ Browse Marketplace**
   - Access the comprehensive advisor marketplace from the sidebar
   - Discover AI advisors by expertise, industry, and specialization
   - Read detailed advisor profiles with ratings and specializations
   - Filter advisors based on your specific project needs

3. **➕ Add Advisors**
   - Select relevant advisors from the marketplace with one click
   - Add multiple advisors to your advisory board
   - Advisors become available across all your projects
   - Build a diverse advisory team for comprehensive guidance

4. **💬 Start Conversations**
   - Begin conversations within specific project contexts
   - Switch between advisors seamlessly during conversations
   - Maintain conversation history and context across sessions
   - Enjoy real-time responses and cross-device synchronization

### **Key Benefits**

- **🎯 Context-Aware**: Conversations are organized by project, maintaining relevant context
- **⚡ Real-time**: All interactions sync instantly across devices
- **🔄 Flexible**: Switch between advisors and projects seamlessly
- **📱 Accessible**: Full functionality on desktop, tablet, and mobile devices
- **🔒 Secure**: All data is protected with enterprise-grade security

## 🤖 AI Advisors Available

The marketplace features a diverse range of AI advisors, including:

### **Business Strategy Advisors**
- **Investment & Fundraising**: Venture capital, startup evaluation, pitch feedback
- **Operations & Scaling**: Business operations, team building, process optimization
- **Marketing & Growth**: Digital marketing, customer acquisition, brand strategy

### **Technical Advisors**
- **Technology Leadership**: CTO guidance, technical architecture, system design
- **Product Development**: Product strategy, user experience, development processes
- **Data & Analytics**: Data strategy, analytics implementation, AI integration

### **Industry Specialists**
- **Healthcare & Biotech**: Regulatory compliance, clinical trials, market access
- **Fintech & Finance**: Financial services, regulatory requirements, risk management
- **E-commerce & Retail**: Online retail strategy, supply chain, customer experience

*All advisors are powered by advanced AI models including DeepSeek Chat v3.1, Nemotron, and other cutting-edge language models.*

## 🛠️ Technical Stack

### **Frontend**
- **Framework**: Next.js 15.2.3 with App Router and Turbopack
- **Language**: TypeScript 5.8+ with strict configuration
- **Styling**: Tailwind CSS 4.0+ with utility-first approach
- **UI Components**: Custom components with accessibility-first design
- **State Management**: React hooks with real-time updates via Convex
- **Real-time**: Convex real-time database with live queries

### **Backend & Database**
- **Database**: Convex real-time database with serverless architecture
- **Real-time Sync**: Automatic real-time synchronization across all clients
- **Authentication**: Clerk with JWT validation and Convex integration
- **AI Integration**: OpenRouter API with multiple model support (DeepSeek, Nemotron)
- **API Design**: Convex functions with type-safe mutations and queries
- **Serverless**: Fully serverless architecture with automatic scaling

### **Authentication & Security**
- **Provider**: Clerk authentication with JWT tokens
- **Integration**: Seamless Clerk + Convex authentication flow
- **JWT Validation**: Automatic JWT validation for all database operations
- **Security**: Row-level security and user-based data isolation
- **Session Management**: Secure session handling with automatic refresh

### **Development & Deployment**
- **Build Tool**: Turbopack for fast development builds
- **Code Quality**: ESLint, Prettier, TypeScript strict mode
- **Testing**: Jest with accessibility testing (jest-axe)
- **Deployment**: Vercel with automatic Convex deployment
- **Monitoring**: Built-in logging and real-time error tracking

### **Real-time Features**
- **Live Queries**: Automatic UI updates when data changes
- **Real-time Chat**: Instant message delivery and synchronization
- **Cross-Device Sync**: Seamless synchronization across all devices
- **Optimistic Updates**: Immediate UI feedback with automatic rollback
- **Offline Support**: Automatic reconnection and data synchronization

### **Accessibility & Performance**
- **Standards**: WCAG 2.1 AA compliance maintained
- **Screen Readers**: Full ARIA support and semantic HTML
- **Performance**: Optimized with real-time updates and lazy loading
- **SEO**: Next.js built-in SEO optimization
- **Mobile-First**: Responsive design with mobile optimization

## 🚀 Getting Started

### Prerequisites

- **Node.js**: Version 18.0 or higher
- **Package Manager**: npm, yarn, or pnpm
- **Database**: Convex account ([Sign up here](https://convex.dev/))
- **Authentication**: Clerk account ([Sign up here](https://clerk.com/))
- **AI Provider**: OpenRouter API key ([Get API key](https://openrouter.ai/))

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/stevenknowswhy/Business-Advisor-Ai-Chat.git
   cd ai-advisor-chat
   ```

2. **Install dependencies**
   ```bash
   npm install
   # or
   yarn install
   # or
   pnpm install
   ```

3. **Set up Convex**
   ```bash
   # Install Convex CLI globally
   npm install -g convex

   # Initialize Convex (if not already done)
   npx convex dev --configure

   # This will create a new Convex project and generate the necessary configuration
   ```

4. **Set up environment variables**
   Create a `.env.local` file in the root directory:
   ```bash
   # Convex Configuration (generated by `npx convex dev`)
   NEXT_PUBLIC_CONVEX_URL="https://your-deployment.convex.cloud"
   CONVEX_DEPLOYMENT="dev:your-deployment-name"

   # Clerk Authentication
   CLERK_SECRET_KEY="sk_test_your-secret-key-here"
   NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_your-publishable-key-here"
   CLERK_JWT_ISSUER_DOMAIN="https://your-clerk-domain.clerk.accounts.dev"

   # OpenRouter Configuration
   OPENROUTER_API_KEY="sk-or-your-api-key-here"
   APP_URL="http://localhost:3000"

   # Model Configuration (optional overrides)
   OPENROUTER_FREE_MODEL="nvidia/nemotron-nano-9b-v2:free"
   OPENROUTER_BASE_MODEL="deepseek/deepseek-chat-v3-0324"
   OPENROUTER_PREMIUM_MODEL="deepseek/deepseek-chat-v3.1"
   ```

5. **Configure Clerk Authentication**
   - Create a Clerk application at [clerk.com](https://clerk.com/)
   - In your Clerk dashboard, go to **JWT Templates**
   - Create a new template named **"convex"** with:
     - **Audience**: `convex`
     - **Issuer**: Your Clerk domain (e.g., `https://your-app.clerk.accounts.dev`)
     - **Include standard claims**: name, email, picture, etc.

6. **Deploy Convex functions**
   ```bash
   # Deploy your Convex functions to the cloud
   npx convex deploy

   # Start Convex development server
   npx convex dev
   ```

7. **Start the development server**
   ```bash
   npm run dev
   # or
   yarn dev
   # or
   pnpm dev
   ```

8. **Open your browser**
   Navigate to `http://localhost:3000` and start exploring the marketplace and creating projects!

### Available Scripts

```bash
# Development
npm run dev          # Start development server with Turbopack
npm run build        # Build for production
npm run start        # Start production server
npm run preview      # Build and start production server

# Convex Database
npx convex dev       # Start Convex development server
npx convex deploy    # Deploy Convex functions to production
npx convex dashboard # Open Convex dashboard
npx convex import    # Import data to Convex
npx convex export    # Export data from Convex

# Code Quality
npm run lint         # Run ESLint
npm run lint:fix     # Fix ESLint issues automatically
npm run format:check # Check code formatting
npm run format:write # Format code with Prettier
npm run check        # Run linting and type checking
npm run typecheck    # Run TypeScript type checking

# Testing
npm run test         # Run Jest tests
npm run test:watch   # Run tests in watch mode
npm run test:ci      # Run tests for CI/CD
npm run test:marketplace # Run marketplace-specific tests
```

## ♿ Accessibility Features

The AI Advisor Chat application is built with accessibility as a core principle, achieving **WCAG 2.1 AA compliance** to ensure an inclusive experience for all users.

### **Accessibility Standards Met**

- ✅ **WCAG 2.1 AA Compliant**: Full compliance with Web Content Accessibility Guidelines
- ✅ **Section 508 Compatible**: Meets federal accessibility requirements
- ✅ **Screen Reader Support**: Comprehensive support for NVDA, JAWS, VoiceOver, and TalkBack
- ✅ **Keyboard Navigation**: Complete keyboard accessibility for all interactions
- ✅ **Focus Management**: Proper focus indicators and logical tab order

### **Specific Accessibility Features**

#### **Form Accessibility**
- **Proper Labeling**: All form inputs have `aria-label`, `title`, and `placeholder` attributes
- **Error Handling**: Clear error messages with proper ARIA announcements
- **Validation Feedback**: Real-time validation with accessible feedback
- **Required Fields**: Clear indication of required form fields

#### **Interactive Elements**
- **Button Semantics**: Proper `type`, `aria-label`, and `title` attributes for all buttons
- **Link Context**: Descriptive link text and proper ARIA attributes
- **Modal Dialogs**: Proper `role="dialog"`, `aria-modal`, and `aria-labelledby` implementation
- **Focus Trapping**: Proper focus management within modals and dialogs

#### **Content Structure**
- **Semantic HTML**: Proper use of headings, landmarks, and semantic elements
- **ARIA Attributes**: Comprehensive ARIA labels, descriptions, and roles
- **Color Contrast**: Meets WCAG AA color contrast requirements (4.5:1 ratio)
- **Text Scaling**: Supports up to 200% zoom without horizontal scrolling

#### **Screen Reader Experience**
- **Advisor Announcements**: Clear announcements when switching between advisors
- **Message Context**: Proper context for chat messages and responses
- **Status Updates**: Live regions for dynamic content updates
- **Navigation Aids**: Skip links and landmark navigation

### **Testing & Validation**

The application has been tested with:
- **Automated Testing**: axe-core accessibility testing
- **Screen Readers**: NVDA, JAWS, VoiceOver, and TalkBack
- **Keyboard Navigation**: Full keyboard-only navigation testing
- **Color Blindness**: Testing with various color vision deficiencies
- **Zoom Testing**: 200% zoom level compatibility

## 🚀 Deployment

### **Production Deployment**

The application uses a modern serverless deployment stack with Vercel and Convex:

#### **Automatic Deployment**
- **Frontend**: Automatic Vercel deployment on pushes to `master` branch
- **Database**: Convex functions automatically deployed with `npx convex deploy`
- **Real-time**: Convex handles all real-time database operations
- **Environment**: Production environment variables via Vercel dashboard

#### **Deployment Process**
1. **Deploy Convex Functions**
   ```bash
   # Deploy database functions to production
   npx convex deploy --prod
   ```

2. **Deploy Frontend to Vercel**
   ```bash
   # Deploy to Vercel (automatic via GitHub integration)
   git push origin master

   # Or manual deployment
   vercel --prod
   ```

#### **Environment Configuration**
Required environment variables for production:

**Vercel Environment Variables:**
- `NEXT_PUBLIC_CONVEX_URL`: Your production Convex deployment URL
- `CLERK_SECRET_KEY`: Clerk authentication secret key
- `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`: Clerk public key
- `CLERK_JWT_ISSUER_DOMAIN`: Your Clerk domain for JWT validation
- `OPENROUTER_API_KEY`: OpenRouter API key for AI models
- `OPENROUTER_BASE_MODEL`: Base tier AI model
- `OPENROUTER_PREMIUM_MODEL`: Premium tier AI model

**Convex Environment Variables:**
- Set via Convex dashboard or CLI: `npx convex env set VARIABLE_NAME value`

### **Manual Deployment**

For manual deployment:

```bash
# 1. Deploy Convex functions
npx convex deploy --prod

# 2. Install Vercel CLI and deploy
npm i -g vercel
vercel --prod

# 3. Set environment variables in Vercel
vercel env add NEXT_PUBLIC_CONVEX_URL
vercel env add CLERK_SECRET_KEY
vercel env add NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
vercel env add CLERK_JWT_ISSUER_DOMAIN
vercel env add OPENROUTER_API_KEY
```

### **Health Monitoring**

The application includes built-in health monitoring:
- **Health Endpoint**: `/api/health` for monitoring services
- **Real-time Status**: Convex dashboard for database monitoring
- **Error Tracking**: Automatic error logging and reporting
- **Performance**: Built-in performance monitoring with Core Web Vitals

## 📊 Performance & Monitoring

### **Performance Optimizations**
- **Turbopack**: Fast development builds and hot reloading
- **CSS Optimization**: Tailwind CSS with PurgeCSS for minimal bundle size
- **Image Optimization**: Next.js automatic image optimization
- **Code Splitting**: Automatic code splitting for optimal loading
- **Edge Runtime**: Serverless functions with edge runtime support

### **Monitoring & Analytics**
- **Error Tracking**: Built-in error boundary and logging
- **Performance Monitoring**: Core Web Vitals tracking
- **Database Monitoring**: Prisma query optimization and monitoring
- **API Monitoring**: Request/response logging and error tracking

## 🤝 Contributing

We welcome contributions to improve the AI Advisor Chat application! Please follow these guidelines:

### **Development Workflow**
1. Fork the repository
2. Create a feature branch: `git checkout -b feature/your-feature-name`
3. Make your changes with proper testing
4. Ensure accessibility compliance is maintained
5. Run linting and formatting: `npm run check`
6. Commit with descriptive messages
7. Push to your fork and create a pull request

### **Code Standards**
- **TypeScript**: Strict mode with proper typing
- **Accessibility**: Maintain WCAG 2.1 AA compliance
- **Testing**: Include accessibility testing for new features
- **Documentation**: Update README for significant changes

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- **Next.js Team**: For the excellent React framework with App Router
- **Convex**: For the revolutionary real-time database and serverless backend
- **Vercel**: For seamless deployment and hosting platform
- **Clerk**: For robust authentication solutions and JWT integration
- **OpenRouter**: For AI model access and integration with multiple providers
- **DeepSeek**: For advanced AI models powering our advisor conversations
- **Tailwind CSS**: For the utility-first CSS framework
- **Accessibility Community**: For guidelines and best practices ensuring inclusive design

---

**Built with ❤️, accessibility, and real-time collaboration in mind**

For questions, issues, or contributions, please visit our [GitHub repository](https://github.com/stevenknowswhy/Business-Advisor-Ai-Chat) or open an issue.

### **Live Demo**
Experience the AI Advisor Chat application: [Visit Live Demo](https://v0-business-consulting-website-agents-v3.vercel.app)

### **Key Features Highlights**
- 🛍️ **Marketplace**: Discover and select from a diverse range of AI advisors
- 📁 **Projects**: Organize conversations by business context and initiatives
- ⚡ **Real-time**: Instant synchronization across all devices and users
- ♿ **Accessible**: WCAG 2.1 AA compliant for inclusive user experience
- 🔒 **Secure**: Enterprise-grade security with Clerk authentication
